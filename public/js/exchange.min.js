const ctx=document.getElementById("myChart"),dateArrayD15=[{x:"2020-07-01",y:"10"},{x:"2020-07-02",y:"50"},{x:"2020-07-03",y:"45"},{x:"2020-07-04",y:"55"},{x:"2020-07-05",y:"57"},{x:"2020-07-06",y:"56"},{x:"2020-07-07",y:"50"},{x:"2020-07-08",y:"45"},{x:"2020-07-09",y:"50"},{x:"2020-07-10",y:"53"},{x:"2020-07-11",y:"50"},{x:"2020-07-12",y:"59"},{x:"2020-07-13",y:"75"},{x:"2020-07-14",y:"79"},{x:"2020-07-15",y:"85"}],dateArrayMon=[{x:"2020-06-15",y:"10"},{x:"2020-06-17",y:"10"},{x:"2020-06-19",y:"10"},{x:"2020-06-21",y:"10"},{x:"2020-06-23",y:"10"},{x:"2020-06-25",y:"10"},{x:"2020-06-27",y:"10"},{x:"2020-06-29",y:"10"},{x:"2020-07-02",y:"50"},{x:"2020-07-04",y:"55"},{x:"2020-07-06",y:"56"},{x:"2020-07-08",y:"45"},{x:"2020-07-10",y:"53"},{x:"2020-07-12",y:"59"},{x:"2020-07-14",y:"79"},{x:"2020-07-15",y:"89"}],dateArray3Mon=[{x:"2020-04-01",y:"1"},{x:"2020-04-09",y:"2"},{x:"2020-04-17",y:"3"},{x:"2020-04-25",y:"4"},{x:"2020-05-03",y:"5"},{x:"2020-05-11",y:"6"},{x:"2020-05-19",y:"7"},{x:"2020-05-27",y:"8"},{x:"2020-06-05",y:"9"},{x:"2020-06-13",y:"10"},{x:"2020-06-21",y:"50"},{x:"2020-06-29",y:"59"},{x:"2020-07-07",y:"79"},{x:"2020-07-15",y:"73"},{x:"2020-07-23",y:"85"}];Chart.defaults.plugins.legend.display=!1,Chart.defaults.font.weight="500",Chart.defaults.font.size=11;const myChart=new Chart(ctx,{type:"line",data:{datasets:[{label:"",data:dateArrayD15,pointBackgroundColor:"#ffbb74",backgroundColor:["#fff"],borderColor:["#ffbb74"],borderWidth:2}]},options:{scales:{y:{beginAtZero:!0,ticks:{min:0,max:100,stepSize:20},grid:{borderDash:[8,4]}},x:{grid:{display:!1,drawBorder:!0},type:"time",time:{unit:"day",tooltipFormat:"dd-MM-yyyy",displayFormats:{day:"dd-MM yyyy"}},ticks:{autoSkip:!1,maxRotation:0,count:5,maxTicksLimit:16,stepSize:10,color:"#000",callback:function(e,t,a){return/\s/.test(e)?e=e.split(" "):e}}}},plugins:{tooltip:{backgroundColor:"#000",titleColor:"#ffbb74",bodyColor:"#ffbb74",displayColors:!1,callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}},responsive:!0,maintainAspectRatio:!1}});function changeTimePeriod(){chartButton.forEach((e=>{e.classList.remove("active")})),this.classList.add("active"),"d15"==this.id&&(myChart.data.datasets[0].data=dateArrayD15),"month"==this.id&&(myChart.data.datasets[0].data=dateArrayMon),"month3"==this.id&&(myChart.data.datasets[0].data=dateArray3Mon),myChart.update()}function mediaQuery(){document.body.clientWidth<=700&&(myChart.options.scales.x.ticks.maxTicksLimit="",myChart.update()),document.body.clientWidth<=500&&(myChart.options.scales.x.ticks.maxTicksLimit=8,Chart.defaults.font.size=10,myChart.update()),document.body.clientWidth<=370&&(myChart.options.scales.x.ticks.maxTicksLimit=6,Chart.defaults.font.size=10,myChart.update())}chartButton=document.querySelectorAll(".chart__time-period_button"),chartButton.forEach((e=>{e.addEventListener("click",changeTimePeriod)})),window.matchMedia("(max-width: 700px)").matches&&(myChart.options.scales.x.ticks.maxTicksLimit="",myChart.update()),window.addEventListener("load",mediaQuery),window.addEventListener("resize",mediaQuery);let gfAmountPurchaseInput=document.getElementById("gf-amount_purchase"),gfRatePurchase=document.getElementById("gf-rate_purchase"),gfPricePurchaseInput=document.getElementById("gf-price_purchase"),purchaseGfInputs=document.querySelectorAll(".stock-exchange__purchase .stock-exchange__form_input"),gfAmountSellInput=document.getElementById("gf-amount_sell"),gfRateSell=document.getElementById("gf-rate_sell"),gfPriceSellInput=document.getElementById("gf-price_sell"),sellGfInputs=document.querySelectorAll(".stock-exchange__sell .stock-exchange__form_input"),rangeInp=document.querySelectorAll(".stock-exchange__form-range-inp"),amountInps=document.querySelectorAll(".stock-exchange__amount-inp");function rangeInpFunc(){amountInps.forEach((e=>{this.dataset.range==e.dataset.range&&(e.value=this.value,calcPriceSell(),calcPricePurchase())}))}purchaseGfInputs.forEach((e=>{e.addEventListener("input",calcPricePurchase)})),sellGfInputs.forEach((e=>{e.addEventListener("input",calcPriceSell)})),rangeInp.forEach((e=>{e.addEventListener("input",rangeInpFunc)}));let gfAmountPurchaseValue=gfAmountPurchaseInput.value,gfRatePurchaseValue=gfRatePurchase.value;function calcPricePurchase(e){gfAmountPurchaseValue=gfAmountPurchaseInput.value,gfPricePurchaseInput.value=gfAmountPurchaseValue*gfRatePurchaseValue}let gfAmountSellValue=gfAmountSellInput.value,gfRateSellValue=gfRateSell.value;function calcPriceSell(){gfAmountSellValue=gfAmountSellInput.value,gfPriceSellInput.value=gfAmountSellValue*gfRateSellValue}calcPriceSell(),calcPricePurchase();